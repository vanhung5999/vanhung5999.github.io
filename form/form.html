<!DOCTYPE html>
<html>
<head>
	<title>ádasd</title>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
	<div class="tong">

		<fieldset class="contain">
			<a href="form.html"></a>
			<legend><h1>Đăng ký</h1></legend>
			<form method="get">
				<div class="trai">
					<span>Tên Đăng Nhập:</span><br>
					<input onkeyup="check(this.value, 'name')" id="name-input" class="tên" type="text" name="name" value="" placeholder="tên đăng nhập"  maxlength="20"> <p id="name" class="none" style="color: green">&#10004</p><!-- phải có name thì value mới nhận không thì ra tên'?' -->
				</div>
				<div >
					<span>Email:</span><br>
					<input onkeyup ="check(this.value, 'email')" id="email-input" class="email" type="text" name="email" placeholder="....@gmail.com" >
					<p id="email" class="none" style="color: green">&#10004</p>
					<!-- placeholder thường để dùng làm hướng dẫn  -->
				</div>
				<div>
					<span>Phone:</span><br>
					<input onkeyup="check(this.value, 'phone')" id="phone-input" class="phone" type="text" name="phone" placeholder="gồm 10 chữ số bắt đầu bằng 09">
					<p id="phone" class="none" style="color: green">&#10004</p>
				</div>
				<div>
					<span>Mật khẩu:</span><br>
					<input onkeyup="check(this.value,'password')" id="pass-input" class="password" type="password" name="password" placeholder=" ít nhất một chữ cái viết hoa, một chữ cái viết thường và một số:" >
					<p id="password" class="none" style="color: green">&#10004</p>
				</div>
				<div class="gender">
					<span>Giới tính</span><br>
					<input id="i1" type="radio" name="gender" checked="checked" value="nam"> <label for="i1">Nam</label> <!-- name phải giống nhau đối với radio -->
					<input id="i2" type="radio" name="gender" value="nữ"><label for="i2">Nữ</label><!-- for với id của input phải giống nhau , for dùng để khi click vào chữ gi sẽ tick chọn -->
				</div>

				<br><br>
				<input class="gui" type="submit" name="" value="Đăng Ký">
			</form>

		</fieldset>
	</div>
	<script
	src="http://code.jquery.com/jquery-3.4.1.min.js"
	integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
	crossorigin="anonymous"></script>

	<script type="text/javascript">
		var name = false;
		var email = false;
		var phone = false;
		var password = false;
		function check(value, x) {
			var span = document.getElementById(x);
		// var variable = x;
		var name = /[A-Za-z0-9_]/;
		var email = /^[a-z][a-z0-9_\.]{5,32}@[a-z0-9]{2,}(\.[a-z0-9]{2,4}){1,2}$/;
		var phone = /(09|01[2|6|8|9])+([0-9]{8})\b/
		var password=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/
		// if(x == name)
		switch(x) {
			case 'name':
			if(name.test(value) == true) {
				this.name =true;
				span.classList.remove('none');
				$('#name').html('&#10004');
			}else {
				this.name = false;
				span.classList.remove('none');
				$('#name').html(' &#9888 vui lòng nhập đúng');
			}
			break;
			case 'email':
			if(email.test(value) == true) {
				this.email =true;
				span.classList.remove('none');
				$('#email').html('&#10004');
			}else {
				this.email = false;
				span.classList.remove('none');
				$('#email').html(' &#9888 Vui lòng nhập đúng ký tự @');
			}
			break;
			case 'phone':
			if(phone.test(value) == true) {
				this.phone =true;
				span.classList.remove('none');
				$('#phone').html('&#10004');
			}else {
				this.phone = false;
				span.classList.remove('none');
				$('#phone').html(' &#9888 số điện thoại gồm 10 chữ số');
			}
			break;
			case 'password':
			if(password.test(value) == true) {
				this.password =true;
				span.classList.remove('none');
				$('#password').html('&#10004');
			}else {
				this.password = false;
				span.classList.remove('none');
				$('#password').html(' &#9888 Vui lòng nhập password');
			}
			break;
			default:
		}
		console.log(this.name + this.email)
	}
	  $('form').on('submit', function(event) {
		  if(name == false || email == false || phone == false || password == false) {
		  	if(name ==false) {
		  		document.getElementById('name').classList.remove('none');
	  			$('#name').html('ban sai o day');
		  	}
		  	alert('Vui long nhap thong tin chinh xac');
		  } else { alert('dang ky thanh cong')}
	      event.preventDefault();
	    // }

  });
</script>
</body>
